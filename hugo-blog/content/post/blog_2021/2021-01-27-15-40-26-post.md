---
title: "2021 01 27 15 40 26 Post"
date: 2021-01-27T15:43:22-08:00
draft: true
keywords: []
description: ""
tags: 
	- "Hugo"
categories: 
    - "个人笔记"
---

撰写新的博文需要几个步骤：

1. 用hugo 命令生成新的博文，hugo new content/post/blog_2021/2021-01-27-new-post.pd
2. 用Typora 或者Visual Code，MacDown等Markdown编辑工具编辑这个博文
3. 编写完毕以后，保存并且用depoly.sh 来提交到source branch。

为了节省时间，尝试把这几个步骤用bash alias命令串联起来，最后只用一个writeblog命令就能完成1和2步骤。具体操作如下：

修改了MacBook的.bashrc ，

- 添加了cdblog 进入到hugo site目录，
- 添加了newblog命令，自动生成新的post，post文件的命名是用日期加时间，例如 2021-01-27-15-40-26-post.md，

- 添加了typeblog 并且直接打开Typora来编辑新生成的post文件

- 用writeblog命令把上述三个命令串起来执行：``` cdblog && newblog && typeblog```，在编辑的过程中，只需要按照需求修改标题-title，添加tags或categories即可

- 编辑完成保存以后，用命令deployblog 先提交2021-01-27-15-40-26-post.md 到master branch，用deploy.sh 来提交public文件夹中的静态html文件到source branch，在hustbill.github.io repo的setting中，需要绑定到 source branch。这样source branch的文件就部署到Github Pages上。

  

```bash
#.bash_profle

export YEAR=`date +%Y`
export DATETIME=`date +%Y-%m-%d-%H-%M-%S`
export HUGO_BLOG="/Users/zhahua/git/hustbill.github.io/hugo-blog"
export CONTENT_PATH="content/post/blog_$YEAR"
export POST_PATH="$HUGO_BLOG/$CONTENT_PATH"
export postname="$DATETIME-post.md"

alias typora="open -a typora"
alias cdblog="cd $HUGO_BLOG"
alias newblog="hugo new $POST_PATH/$postname"
alias typeblog="typora $POST_PATH/$postname"
alias writeblog="cdblog && newblog && typeblog"  #  && 前面的命令执行成功，才会执行后面的命令
# Deploy to Github Pages
alias deployblog="cd $HUGO_BLOG && git add . && git commit -m 'add a new post $postname' && ./deploy.sh"
```



以后每次写作，就只需要打开Mac termial，敲入writeblog后，就能跳入Typora界面愉快的写作。写完以后，用deployblog提交并且自动部署到GitHub Pages。



祝好！

Hua



